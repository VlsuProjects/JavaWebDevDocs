# Отношение один ко многим

В этом разделе мы рассмотрим отношение один ко многим. Отношение один ко многим - это отношение, при котором одна сущность связана с несколькими другими сущностями. Например, один автор может написать несколько книг, но каждая книга может быть написана только одним автором.

Давайте рассмотрим пример отношения один ко многим между сущностями `Author` и `Book`. Один автор может написать несколько книг, но каждая книга может быть написана только одним автором.

## Описание сущностей

Давайте создадим две сущности `Author` и `Book`. Сущность `Author` будет иметь отношение один ко многим с сущностью `Book`.

### Сущность Author

```java
@Entity
@Table(name = "authors")
public class Author {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    @OneToMany(mappedBy = "author")
    private List<Book> books;

    // геттеры и сеттеры
}
```

### Сущность Book

```java
@Entity
@Table(name = "books")
public class Book {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String title;

    @ManyToOne
    @JoinColumn(name = "author_id")
    private Author author;

    // геттеры и сеттеры
}
```

В этом примере у нас есть две сущности: `Author` и `Book`. У сущности `Author` есть поле `books`, которое связано с сущностью `Book` при помощи аннотации `@OneToMany`. У сущности `Book` есть поле `author`, которое связано с сущностью `Author` при помощи аннотации `@ManyToOne`.

В аннотации `@OneToMany` есть параметр `mappedBy`, который указывает на поле в сущности `Book`, которое связано с сущностью `Author`. Таким образом, мы указываем, что связь один ко многим устанавливается через поле `author` в сущности `Book`.

В аннотации `@ManyToOne` есть параметр `@JoinColumn`, который указывает на столбец в таблице `books`, который связан с таблицей `authors`. В данном случае, это столбец `author_id`.

Теперь у нас есть две таблицы: `authors` и `books`, которые связаны отношением один ко многим. В таблице `books` есть столбец `author_id`, который связан с таблицей `authors` по столбцу `id`.

Таким образом, мы описали отношение один ко многим между сущностями при помощи JPA.

# [**Назад**: *Отношения между таблицами*](what-is-relations.md)