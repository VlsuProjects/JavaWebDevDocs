# Метод WebSecurityConfigurerAdapter#configure(HttpSecurity http)

Этот метод используется для настройки безопасности HTTP-запросов. Он позволяет определить правила авторизации для
различных URL, конфигурацию страницы логина, настройки логаута, защиту CSRF и многое другое.

Пример использования метода `configure`:

```java
@Override
protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests() // Начинаем настройку авторизации запросов
            .antMatchers("/public/**").permitAll() // Доступ к URL, начинающимся с /public, разрешен всем пользователям
            .anyRequest().authenticated() // Все остальные запросы требуют аутентификации
            .and()
        .formLogin() // Включаем поддержку формы логина
            .loginPage("/login") // Указываем URL страницы логина
            .permitAll() // Разрешаем всем доступ к странице логина
            .and()
        .logout() // Включаем поддержку логаута
            .permitAll(); // Разрешаем всем доступ к странице логаута
}
```

В приведенном выше примере:

- Метод `authorizeRequests()` начинает настройку авторизации запросов.
- Мы разрешили доступ к URL, начинающимся с `/public`, всем пользователям.
- Для всех остальных URL требуется аутентификация.
- Также, мы включили поддержку формы логина и указали URL страницы логина.
- Установили, что страница логина находится по адресу `/login`.
- Разрешили доступ к странице логина всем пользователям.
- Также, включили поддержку логаута
- И разрешили доступ к странице логаута всем пользователям.

После вызова метода `logout()` можно настроить дополнительные параметры для логаута, такие как URL страницы логаута,
URL, на который пользователь будет перенаправлен после логаута, и другие.

Это стандартная настройка, которую можно использовать в большинстве приложений. Однако, если вам нужно настроить
дополнительные параметры, вот еще несколько методов, которые вы можете использовать:
1. authenticateRequests()
    - antMatchers() - настройка правил доступа к URL
    - regexMatchers() - настройка правил доступа к URL с использованием регулярных выражений
    - requestMatchers() - настройка правил доступа к URL на основе запросов
2. formLogin()
    - loginPage() - настройка URL страницы логина
    - loginProcessingUrl() - настройка URL обработки логина
    - defaultSuccessUrl() - настройка URL перенаправления после успешного логина
    - failureUrl() - настройка URL перенаправления после неудачного логина
    - successHandler() - настройка обработчика успешного логина
    - failureHandler() - настройка обработчика неудачного логина
3. logout()
    - logoutUrl() - настройка URL страницы логаута
    - logoutSuccessUrl() - настройка URL перенаправления после успешного логаута
    - logoutSuccessHandler() - настройка обработчика успешного логаута
    - addLogoutHandler() - добавление обработчика логаута
    - deleteCookies() - удаление cookies после логаута
4. rememberMe()
    - key() - настройка ключа для remember-me
    - rememberMeParameter() - настройка параметра для remember-me
    - rememberMeCookie() - настройка cookie для remember-me
    - tokenValiditySeconds() - настройка срока действия токена remember-me
    - userDetailsService() - настройка сервиса пользователей для remember-me
5. sessionManagement()
    - sessionCreationPolicy() - настройка политики создания сессий
    - invalidSessionUrl() - настройка URL перенаправления при недействительной сессии
    - sessionFixation() - настройка защиты от фиксации сессии
    - maximumSessions() - настройка максимального количества сессий
    - expiredUrl() - настройка URL перенаправления при истечении срока действия сессии

Это далеко не все методы, которые можно использовать для настройки безопасности HTTP-запросов. Полный список методов
можно найти в [документации Spring Security](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html).

# [**Назад**: *Конфигурация Spring*](../configuration.md)