# Отношение многие-к-одному

## Описание

Отношение многие-к-одному (Many-to-One) - это одно из четырех основных отношений в JPA. Оно позволяет связать две сущности таким образом, что одна сущность может иметь только одну связанную сущность, но связанная сущность может иметь много связанных сущностей.

Давайте рассмотрим пример отношения многие-к-одному между сущностями `Book` и `Author`. Одна книга может быть написана только одним автором, но один автор может написать несколько книг.

## Описание сущностей

Давайте создадим две сущности `Book` и `Author`. Сущность `Book` будет иметь отношение многие-к-одному с сущностью `Author`.

### Сущность Author

```java
@Entity
@Table(name = "authors")
public class Author {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    @OneToMany(mappedBy = "author")
    private List<Book> books;

    // геттеры и сеттеры
}
```

### Сущность Book

```java
@Entity
@Table(name = "books")
public class Book {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String title;

    @ManyToOne
    @JoinColumn(name = "author_id")
    private Author author;

    // геттеры и сеттеры
}
```

В этом примере у нас есть две сущности: `Author` и `Book`. У сущности `Author` есть поле `books`, которое связано с сущностью `Book` при помощи аннотации `@OneToMany`. У сущности `Book` есть поле `author`, которое связано с сущностью `Author` при помощи аннотации `@ManyToOne`.

В аннотации `@OneToMany` есть параметр `mappedBy`, который указывает на поле в сущности `Book`, которое связано с сущностью `Author`. Таким образом, мы указываем, что связь многие-к-одному устанавливается через поле `author` в сущности `Book`.

В аннотации `@ManyToOne` есть параметр `@JoinColumn`, который указывает на столбец в таблице `books`, который связан с таблицей `authors`. В данном случае, это столбец `author_id`.

Теперь у нас есть две таблицы: `authors` и `books`, которые связаны отношением многие-к-одному. В таблице `books` есть столбец `author_id`, который связан с таблицей `authors` по столбцу `id`.

Таким образом, мы описали отношение многие-к-одному между сущностями при помощи JPA.

# [**Назад**: *Отношения между таблицами*](what-is-relations.md)